# QEDMMA DDC Core Register Map
# Author: Dr. Mladen Mešter
# Copyright (c) 2026 Dr. Mladen Mešter - All Rights Reserved
# SSOT - Single Source of Truth for auto-generation

module:
  name: ddc_core
  description: "Digital Down Converter register interface"
  version: "1.0"
  base_address: 0x00010000
  address_width: 12
  data_width: 32

registers:
  - name: CTRL
    offset: 0x00
    description: "DDC Control Register"
    access: RW
    reset: 0x00000000
    fields:
      - name: ENABLE
        bits: [0]
        description: "DDC enable (1=run, 0=stop)"
      - name: BYPASS_CIC
        bits: [1]
        description: "Bypass CIC filter (1=bypass, 0=filter)"
      - name: SOFT_RESET
        bits: [31]
        description: "Software reset (self-clearing)"

  - name: NCO_FREQ_L
    offset: 0x04
    description: "NCO Frequency Word [31:0]"
    access: RW
    reset: 0x00000000
    fields:
      - name: FREQ_WORD_L
        bits: [31, 0]
        description: "Lower 32 bits of NCO frequency word"

  - name: NCO_FREQ_H
    offset: 0x08
    description: "NCO Frequency Word [63:32] (if 64-bit NCO)"
    access: RW
    reset: 0x00000000
    fields:
      - name: FREQ_WORD_H
        bits: [31, 0]
        description: "Upper 32 bits of NCO frequency word"

  - name: CIC_CONFIG
    offset: 0x10
    description: "CIC Filter Configuration"
    access: RW
    reset: 0x00000004
    fields:
      - name: DECIMATION
        bits: [5, 0]
        description: "Decimation factor (4-64)"
      - name: STAGES
        bits: [11, 8]
        description: "Number of CIC stages (1-6)"

  - name: STATUS
    offset: 0x20
    description: "DDC Status Register"
    access: RO
    reset: 0x00000000
    fields:
      - name: RUNNING
        bits: [0]
        description: "DDC is running"
      - name: OVERFLOW_I
        bits: [1]
        description: "I channel overflow detected"
      - name: OVERFLOW_Q
        bits: [2]
        description: "Q channel overflow detected"

  - name: VERSION
    offset: 0x3C
    description: "IP Version Register"
    access: RO
    reset: 0x01000000
    fields:
      - name: PATCH
        bits: [7, 0]
        description: "Patch version"
      - name: MINOR
        bits: [15, 8]
        description: "Minor version"
      - name: MAJOR
        bits: [23, 16]
        description: "Major version"
